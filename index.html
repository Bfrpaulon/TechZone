<html>

<head>
    <link rel="stylesheet/less" type="text/css" href="styles.less" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/3.11.3/less.min.js"></script>
    
    <title>Temperatura Atual</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <div>
        <label for="city">Cidade:</label>
        <input type="text" id="city" placeholder="Exemplo: São Paulo,br">
        <button id="getTemperature">Obter Temperatura</button>
    </div>
    <div id="temperature"></div>
    <div id="instructions">
        <p>Para encontrar o nome da cidade e a sigla do país corretos, você pode:</p>
        <ul>
            <li>Pesquisar no Google "nome da cidade, sigla do país" (exemplo: "São Paulo, br").</li>
            <li>Verificar no site da OpenWeatherMap a lista completa de cidades suportadas.</li>
        </ul>
    </div>
    <script>
        $("#getTemperature").on("click", function () {
            // Obtendo o nome da cidade inserido pelo usuário
            var city = $("#city").val();

            // URL da API de previsão do tempo
            var api_url = "https://api.openweathermap.org/data/2.5/weather?q=" + city + "&appid=c18b11f82013bd1d38b19f74aff3a779&units=metric";

            // Fazendo chamada à API
            $.getJSON(api_url, function (data) {
                // Exibindo a temperatura atual na página
                $("#temperature").html("Temperatura atual em " + data.name + ": " + data.main.temp + "°C");
            });
        });
    </script>
</body>

</html>