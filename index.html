<!DOCTYPE html>
<html>
  <head>
      <title>Previsão do tempo</title>
          <link rel="stylesheet/less" type="text/css" href="styles.less" />
              <script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/3.11.3/less.min.js"></script>
                </head>
                  <body>
                      <h1>Previsão do tempo</h1>
                          <label for="cityInput">Cidade:</label>
                              <input type="text" id="cityInput" />
                                  <button onclick="getWeather()">Obter previsão</button>
                                      <div id="currentTemp"></div>
                                          <div id="forecast"></div>

                                              <script>
                                                    // código JavaScript para obter a previsão do tempo
                                                          function getWeather() {
                                                                  // obter a cidade digitada pelo usuário
                                                                          const city = document.getElementById("cityInput").value;

                                                                                  // API key
                                                                                          const apiKey = "c18b11f82013bd1d38b19f74aff3a779";

                                                                                                  // URL da API
                                                                                                          const apiUrl = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}`;

                                                                                                                  // Fazendo requisição à API
                                                                                                                          fetch(apiUrl)
                                                                                                                                    .then(response => response.json())
                                                                                                                                              .then(data => {
                                                                                                                                                          // obtendo temperatura atual em Kelvin<!DOCTYPE html>
                                                                                                                                                          <html>
                                                                                                                                                            <head>
                                                                                                                                                                <title>Previsão do tempo</title>
                                                                                                                                                                    <link rel="stylesheet/less" type="text/css" href="styles.less" />
                                                                                                                                                                        <script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/3.11.3/less.min.js"></script>
                                                                                                                                                                          </head>
                                                                                                                                                                            <body>
                                                                                                                                                                                <h1>Previsão do tempo</h1>
                                                                                                                                                                                    <label for="cityInput">Cidade:</label>
                                                                                                                                                                                        <input type="text" id="cityInput" />
                                                                                                                                                                                            <button onclick="getWeather()">Obter previsão</button>
                                                                                                                                                                                                <div id="currentTemp"></div>
                                                                                                                                                                                                    <div id="forecast"></div>

                                                                                                                                                                                                        <script>
                                                                                                                                                                                                              // código JavaScript para obter a previsão do tempo
                                                                                                                                                                                                                    function getWeather() {
                                                                                                                                                                                                                            // obter a cidade digitada pelo usuário
                                                                                                                                                                                                                                    const city = document.getElementById("cityInput").value;

                                                                                                                                                                                                                                            // API key
                                                                                                                                                                                                                                                    const apiKey = "c18b11f82013bd1d38b19f74aff3a779";

                                                                                                                                                                                                                                                            // URL da API
                                                                                                                                                                                                                                                                    const apiUrl = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}`;

                                                                                                                                                                                                                                                                            // Fazendo requisição à API
                                                                                                                                                                                                                                                                                    fetch(apiUrl)
                                                                                                                                                                                                                                                                                              .then(response => response.json())
                                                                                                                                                                                                                                                                                                        .then(data => {
                                                                                                                                                                                                                                                                                                                    // obtendo temperatura atual em Kelvin
                                                                                                                                                                                                                                                                                                                                const currentTemp = data.list[0].main.temp;

                                                                                                                                                                                                                                                                                                                                            // convertendo Kelvin para Celsius
                                                                                                                                                                                                                                                                                                                                                        const celsius = currentTemp - 273.15;

                                                                                                                                                                                                                                                                                                                                                                    // mostrando temperatura atual
                                                                                                                                                                                                                                                                                                                                                                                document.getElementById("currentTemp").innerHTML = `Temperatura atual: ${celsius}°C`;

                                                                                                                                                                                                                                                                                                                                                                                            // obtendo previsão para os próximos 7 dias
                                                                                                                                                                                                                                                                                                                                                                                                        const forecast = data.list.slice(0, 8);

                                                                                                                                                                                                                                                                                                                                                                                                                    // iterando sobre a previsão
                                                                                                                                                                                                                                                                                                                                                                                                                                forecast.forEach(day => {
                                                                                                                                                                                                                                                                                                                                                                                                                                              // convertendo Kelvin para Celsius
                                                                                                                                                                                                                                                                                                                                                                                                                                                            const temp = day.main.temp - 273.15;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // mostrando data e temperatura
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        document.getElementById("forecast").innerHTML += `${day.dt_txt}: ${temp}°C`;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              })
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        .catch(error => {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    console.log(error);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
                                                                                                                                                                      const currentTemp = data.list[0].main.temp;

                                                                                                                                                                                  // convertendo Kelvin para Celsius
                                                                                                                                                                                              const celsius = currentTemp - 273.15;

                                                                                                                                                                                                          // mostrando temperatura atual
                                                                                                                                                                                                                      document.getElementById("currentTemp").innerHTML = `Temperatura atual: ${celsius}°C`;

                                                                                                                                                                                                                                  // obtendo previsão para os próximos 7 dias
                                                                                                                                                                                                                                              const forecast = data.list.slice(0, 8);

                                                                                                                                                                                                                                                          // iterando sobre a previsão
                                                                                                                                                                                                                                                                      forecast.forEach(day => {
                                                                                                                                                                                                                                                                                    // convertendo Kelvin para Celsius
                                                                                                                                                                                                                                                                                                  const temp = day.main.temp - 273.15;

                                                                                                                                                                                                                                                                                                                // mostrando data e temperatura
                                                                                                                                                                                                                                                                                                                              document.getElementById("forecast").innerHTML += `${day.dt_txt}: ${temp}°C`;
                                                                                                                                                                                                                                                                                                                                          });
                                                                                                                                                                                                                                                                                                                                                    })
                                                                                                                                                                                                                                                                                                                                                              .catch(error => {
                                                                                                                                                                                                                                                                                                                                                                          console.log(error);
                                                                                                                                                                                                                                                                                                                                                                                    });
                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                              </script>
                                                                                                                                                                                                                                                                                                                                                                                                </body>
                                                                                                                                                                                                                                                                                                                                                                                                </html>
